<div class="forgot-password-page-bg">
  <div class="forgot-password-card">
    <div class="forgot-password-form-section">
      <h1 class="forgot-password-title">Reset Password</h1>
      
      <!-- Step 1: Email Input -->
      <div *ngIf="step === 'email'" class="step-container">
        <p class="step-description">Enter your email address to receive a reset code</p>
        
        <form (ngSubmit)="onSubmitEmail()">
          <label for="email">Email</label>
          <input 
            id="email" 
            type="email" 
            placeholder="Enter your email"
            [(ngModel)]="email"
            name="email"
            required
          />

          <button type="submit" class="submit-btn" [disabled]="isLoading">
            {{ isLoading ? 'Sending...' : 'Send Reset Code' }}
          </button>
        </form>
        
        <div class="back-to-login">
          <a href="/login">Back to Login</a>
        </div>
      </div>

      <!-- Step 2: Code Verification -->
      <div *ngIf="step === 'code'" class="step-container">
        <p class="step-description">Enter the reset code sent to your email</p>
        
        <form (ngSubmit)="onSubmitCode()">
          <label for="resetCode">Reset Code</label>
          <input 
            id="resetCode" 
            type="text" 
            placeholder="Enter 6-digit code"
            [(ngModel)]="resetCode"
            name="resetCode"
            maxlength="6"
            required
          />

          <button type="submit" class="submit-btn" [disabled]="isLoading">
            {{ isLoading ? 'Verifying...' : 'Verify Code' }}
          </button>
        </form>
        
        <div class="step-actions">
          <button type="button" class="back-btn" (click)="goBack()">Back</button>
          <a href="/login" class="login-link">Back to Login</a>
        </div>
      </div>

      <!-- Step 3: New Password -->
      <div *ngIf="step === 'password'" class="step-container">
        <p class="step-description">Enter your new password</p>
        
        <form (ngSubmit)="onSubmitPassword()">
          <label for="newPassword">New Password</label>
          <div class="password-input-container">
            <input 
              id="newPassword" 
              [type]="showNewPassword ? 'text' : 'password'" 
              placeholder="Enter new password"
              [(ngModel)]="newPassword"
              name="newPassword"
              required
            />
            <button 
              type="button" 
              class="password-toggle-btn" 
              (click)="toggleNewPasswordVisibility()"
              [attr.aria-label]="showNewPassword ? 'Hide password' : 'Show password'"
            >
              <i class="fas" [class.fa-eye]="!showNewPassword" [class.fa-eye-slash]="showNewPassword"></i>
            </button>
          </div>

          <label for="confirmPassword">Confirm Password</label>
          <div class="password-input-container">
            <input 
              id="confirmPassword" 
              [type]="showConfirmPassword ? 'text' : 'password'" 
              placeholder="Confirm new password"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
            />
            <button 
              type="button" 
              class="password-toggle-btn" 
              (click)="toggleConfirmPasswordVisibility()"
              [attr.aria-label]="showConfirmPassword ? 'Hide password' : 'Show password'"
            >
              <i class="fas" [class.fa-eye]="!showConfirmPassword" [class.fa-eye-slash]="showConfirmPassword"></i>
            </button>
          </div>

          <button type="submit" class="submit-btn" [disabled]="isLoading">
            {{ isLoading ? 'Resetting...' : 'Reset Password' }}
          </button>
        </form>
        
        <div class="step-actions">
          <button type="button" class="back-btn" (click)="goBack()">Back</button>
          <a href="/login" class="login-link">Back to Login</a>
        </div>
      </div>
    </div>
    
    <div class="forgot-password-image-section">
      <!-- Background image set via CSS -->
    </div>
  </div>
</div> 